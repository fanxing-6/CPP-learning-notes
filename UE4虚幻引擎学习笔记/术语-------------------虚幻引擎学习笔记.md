# 术语-------------------虚幻引擎学习笔记

## 项目

**虚幻引擎4项目（Project）** 保存着构成游戏所需的所有内容和代码。项目在你的电脑硬盘上由许多目录构成，例如 `蓝图` 和 `材质`。你可以随时修改项目目录的名称和层级关系。

**虚幻编辑器** 中的 **内容浏览器** 所展示的目录结构和你在硬盘上看到的 `项目` 目录结构相同。

_内容浏览器面板会镜像显示磁盘上的项目目录结构。点击图片查看大图。

每个项目都有一个与之对应的 `.uproject` 文件。`.uproject` 文件是你创建、打开或保存项目必须用到的文件。你可以创建任何数量的不同项目，并同时操作它们。

有关更多信息，请参阅[使用虚幻项目](https://docs.unrealengine.com/4.27/zh-CN/Basics/Projects)。

## 蓝图

**蓝图可视化脚本（Blueprint Visual Scripting）** 系统（或缩写 **蓝图（Blueprints）**）是一种功能齐全的游戏脚本系统，它允许你在虚幻编辑器（Unreal Editor）中通过基于节点的界面来创建游戏元素。和许多常见脚本语言一样，你可以用它在引擎中定义面向对象的类或object。在使用UE4时，你会发现使用蓝图定义的类一般也统称蓝图。

有关更多信息，请参阅[蓝图可视化脚本](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/Blueprints)。

## 对象

在虚幻引擎中，最基本的类叫做 **Object**。换句话说，它就像最基本的构建单位，包含了资产的基本功能。虚幻引擎中的大多数类都继承自Object（或从中获取部分功能）。

在C++中，`UObject` 是所有Object的基类，包含各类功能，诸如垃圾回收、通过元数据（UProperty）将变量公开给编辑器，以及保存和加载时的序列化功能。

更多信息请参阅：

- [虚幻项目和游戏性](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/UnrealTerminology)
- [游戏逻辑编程](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture)

## 类

**类（Class）** 用于定义虚幻引擎中Actor或对象的行为和属性。类可以被继承，这意味着某个类可以从其父类（衍生或派生出该类的类）获得信息，然后再将信息传递给子类。类可用C++代码或蓝图创建。

更多信息请参阅：

- [蓝图类](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/Blueprints/UserGuide/Types/ClassBlueprint)
- [游戏性类](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/GameplayArchitecture/Classes)
- [类创建基础知识](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ClassCreation)

## Actor

所有可以放入关卡的对象都是 **Actor**，比如摄像机、静态网格体、玩家起始位置。Actor支持三维变换，例如平移、旋转和缩放。你可以通过游戏逻辑代码（C++或蓝图）创建（生成）或销毁Actor。

在C++中，AActor是所有Actor的基类。

更多信息请参阅：

- [Actors](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Actors)
- [Actor和几何体](https://docs.unrealengine.com/4.27/zh-CN/Basics/Actors)

## 类型转换

**类型转换（Casting）** 本质上是获取某个特定Actor（或类），然后将它视为另一种类进行处理。类型转换可以成功，也可以失败。如果转换成功，你就能访问目标Actor的特有函数和功能。

举个例子，你希望在游戏中创建多种体积，让它们以不同方式影响玩家。其中一个体积是 **火焰**，它会不断伤害玩家生命值。当玩家遇到关卡中的体积时，你可以将该体积 **转换** 成 **火焰**，以此访问它的"伤害玩家"函数。

- 如果转换成功，表示玩家站在火中，那么玩家生命值就会开始减少。
- 如果转换失败，表示玩家站在其他体积中，那么生命值不会减少。

类型转换不同于单纯地检查某个Actor是否属于某个类，然后返回一个二元值（是或否）；这种情况下，你无法访问该类的函数。

如需更多信息，请参见：

- [类型转换快速入门指南](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ActorCommunication/CastingQuickStart)

## 组件

**组件（Component）** 是可以添加到Actor上的一项功能。

当你为Actor添加组件后，该Actor便获得了该组件所提供的功能。例如：

- 聚光灯组件（Spot Light Component）允许你的Actor像聚光灯一样发光，
- 旋转移动组件（Rotating Movement Component）能使你的Actor四处旋转，
- 音频组件（Audio Component）将使你的Actor能够播放声音。

组件必须绑定在Actor身上，它们无法单独存在。

更多信息请参阅：

- [组件](https://docs.unrealengine.com/4.27/zh-CN/Basics/Components)
- [组件窗口](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/Blueprints/UserGuide/Components)
- [代码中的组件](https://docs.unrealengine.com/4.27/zh-CN/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Actors/Components)

## Pawn

**Pawn** 是Actor的子类，它可以充当游戏中的化身或人物（例如游戏中的角色）。Pawn可以由玩家控制，也可以由游戏AI控制并以非玩家角色（NPC）的形式存在于游戏中。

当Pawn被人类玩家或AI玩家控制时，它被视为 **已被控制（Possessed）**。相反，当Pawn未被人类玩家或AI玩家控制时，它被视为 **未被控制（Unpossessed）**。

更多信息请参阅：

- [Pawn](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/Pawn)
- [支配 Pawn](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/HowTo/PossessPawns)

## 角色

**角色（Character）** 是Pawn Actor的子类，旨在用作玩家角色。角色子类包括碰撞设置、双足运动的输入绑定，以及用于控制运动的附加代码。

更多信息请参阅：

- [角色](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/Pawn/Character)
- [设置角色](https://docs.unrealengine.com/4.27/zh-CN/AnimatingObjects/SkeletalMeshAnimation/CharacterSetupOverview)
- [设置角色动作](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/HowTo/CharacterMovement)

## 玩家控制器

**玩家控制器（Player Controller）** 会获取游戏中玩家的输入信息，然后转换为交互效果，每个游戏中至少有一个玩家控制器。玩家控制器通常会控制一个Pawn或角色，将其作为玩家在游戏中的化身。

玩家控制器还是多人游戏中的主要网络交互节点。在多人游戏中，服务器会为游戏中的每个玩家生成一个玩家控制器实例，因为它必须对每个玩家进行网络函数调用。每个客户端只拥有与其玩家相对应的玩家控制器，并且只能使用其玩家控制器与服务器通信。

相关的C++类是 `PlayerController`。

有关更多信息，请参阅[PlayerController(玩家控制器)](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/Controller/PlayerController)。

## AI控制器

玩家控制器通过控制Pawn来表示游戏中的玩家，与此类似，**AI控制器** 通过控制Pawn来表示游戏中的非玩家角色（NPC）。默认情况下，Pawn和角色最终都会由基本的AI控制器控制，除非它们被指定通过玩家控制器控制，或被告知不需要为它们自己创建AI控制器。

关联的C++类是 `AIController`。

有关更多信息，请参阅[AIController](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/Controller/AIController)。

## 玩家状态

**玩家状态（Player State）** 表示某个游戏参与者的状态，可以是人类玩家，也可以是模拟玩家的机器人。作为游戏场景的一部分而存在的非玩家类AI不会有玩家状态。

玩家状态（Player State）能包括的玩家信息包括：

- 名称
- 当前关卡
- 生命值
- 分数
- 在某些抢旗游戏中，玩家当前是否携带旗子。

在多人游戏中，所有电脑都保存着所有玩家的玩家状态，并且玩家状态可以将数据从服务器复制到客户端以保持同步。这点与玩家控制器不同，它只会保存在玩家所在的客户端上。

关联的C++类是 `PlayerState`。

有关更多信息，请参阅[Gameplay框架快速参考](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/QuickReference)。

## 游戏模式

**游戏模式（GameMode）** 类负责设置当前游戏的规则。规则包括：

- 玩家如何加入游戏。
- 是否可以暂停游戏。
- 任何与游戏相关的行为，例如获胜条件。

你可以在

[项目设置](Project Settings)

 中设置默认的游戏模式，也可以关卡中覆盖这些设置。无论你如何实现游戏模式，每个关卡始终只能有一个游戏模式。



在多人游戏中，游戏模式只存在于服务器上，规则会被复制（发送）给所有联网的客户端。

相关的C++类是 `GameMode`。

更多信息请参阅：

- [游戏模式](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/GameMode)。
- [设置游戏模式](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/HowTo/SettingUpAGameMode)

## 游戏状态

**游戏状态（GameState）** 是一种容器，保存着你希望在游戏中复制给每个客户端的信息。简而言之，它表示每个联网玩家的"游戏状态"。

游戏状态包含的部分信息包括：

- 游戏分数
- 比赛是否已开始
- 根据场景中玩家的人数，需要生成多少AI

如果是多人游戏，则每个玩家的电脑上都只有一个游戏状态实例，而服务器的实例为权威实例（即客户端的信息更新来源）。

相关的C++类是 `GameState`。

有关更多信息，请参阅[游戏状态](https://docs.unrealengine.com/4.27/zh-CN/InteractiveExperiences/Framework/GameMode#gamestate)。

## 笔刷

**笔刷（Brush）** 是一种Actor，用于描述一个3D几何体，例如方形或圆形。你可以在关卡中应用笔刷，以便定义关卡几何体（称为二元空间划分笔刷，简称BSP笔刷）。假如你想快速搭建关卡，则可以使用这种方法。

更多信息请参阅：

- [几何体笔刷Actor](https://docs.unrealengine.com/4.27/zh-CN/Basics/Actors/Brushes)
- [几何体编辑示例](https://docs.unrealengine.com/4.27/zh-CN/Resources/ContentExamples/Brushes)

## 体积

**体积（Volumes）** 是一种存在边框的3D空间，会根据施加给它们的效果产生不同的用途。例如：

- **阻挡体积（Blocking Volumes）**，一种不可见的体积，用来防止Actor穿过它们。
- **伤害生成体积（Pain Causing Volumes）**，会对进入它们的Actor产生持续性的伤害。
- **触发体积（Trigger Volumes）**，可以通过编程，让Actor在进入或离开它们是触发事件。

有关更多信息，请参阅[体积参考](https://docs.unrealengine.com/4.27/zh-CN/Basics/Actors/Volumes)。

## 关卡

**关卡（Level）** 是用户定义的游戏区域。关卡包含了玩家能看到的所有内容，例如几何体、Pawn和Actor。

在虚幻编辑器中，每个关卡都被保存为单独的 `.umap` 文件，它们有时也被称为 **地图**。

更多信息请参阅：

- [关卡](https://docs.unrealengine.com/4.27/zh-CN/Basics/Levels)
- [关卡编辑器](https://docs.unrealengine.com/4.27/zh-CN/BuildingWorlds/LevelEditor)
- [关卡设计内容示例](https://docs.unrealengine.com/4.27/zh-CN/Resources/ContentExamples/LevelDesign)

## 世界

**世界场景（World）** 是一个容器，包含了游戏中的所有关卡。它可以处理关卡流送，还能生成（创建）动态Actor。

更多信息请参阅：

- [世界场景设置](https://docs.unrealengine.com/4.27/zh-CN/Basics/Levels/WorldSettings)
- [关卡流送](https://docs.unrealengine.com/4.27/zh-CN/BuildingWorlds/LevelStreaming)