# 【Linux 内核】 用户空间缺页异常

## 一,用户空间页错误异常

在实际需要摸个内存区域的数据之前,虚拟和物理内存之间通常不会建立关联.如果进程访问的虚拟地址空间尚未与页帧相关联,处理器自动引发一个缺页异常,内核必须处理此异常.

- 缺页异常

  CPU通过地址总线可以连接在地址总线上的所有外设,包括物理内存,IO设备等.但从CPU发出的地址访问并非总是这些外设在地址总线上的物理地址,而是虚拟地址,再由MMU(内存管理模块)将虚拟地址转换成物理地址再从总线上发出,MMU上的这种虚拟地址和物理地址的转换关系是需要创建的,并且MMU还可以设置这个页面是否进行读写操作.当没有创建一个虚拟地址到物理映射时,或者创建了这样的映射,但是这个屋里也不可写的时候,MMU将会通知CPU产生一个缺页异常

- 缺页异常处理函数`__do_page_fault()`

  

